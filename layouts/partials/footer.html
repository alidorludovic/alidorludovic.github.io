<footer class="footer">
  <section class="container">
    ©
    {{ if (and .Site.Params.since (lt .Site.Params.since now.Year)) }}
      {{ .Site.Params.since }} -
    {{ end }}
    {{ now.Year }}
    {{ with .Site.Params.author }} {{ . }} {{ end }}
    ·
    {{ if (and .Site.Params.license) }}
      {{ i18n "licensed_under" }} {{ .Site.Params.license | safeHTML }}
    ·
    {{ end }}
    {{ i18n "powered_by" }} <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    {{ if (and .Site.Params.commit .GitInfo) }}
      [<a href="{{ .Site.Params.commit }}/{{ .GitInfo.Hash }}" target="_blank" rel="noopener">{{ .GitInfo.AbbreviatedHash }}</a>]
    {{ end }}
  </section>
</footer>
{{- if (eq (.Site.Params.disableComments | default false) false) -}}
    {{- if (eq (.Params.disableComments | default false) false) -}}
    <script src="https://giscus.app/client.js"
    data-repo="alidorludovic/alidorludovic.github.io"
    data-repo-id="R_kgDOH_M57w"
    data-category="General"
    data-category-id="DIC_kwDOH_M5784Cnp59"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="light"
    data-lang="en"
    crossorigin="anonymous"
    async>
</script>
    <script>
      function changeGiscusTheme() {
        const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'light';

        function sendMessage(message) {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }

        sendMessage({
          setConfig: {
            theme: theme
          }
        });
      }

      // Détecter les changements de thème
      const observer = new MutationObserver(changeGiscusTheme);
      observer.observe(document.documentElement, { attributes: true, attributeFilter: ['data-theme'] });

      // Initialiser le thème
      document.addEventListener('DOMContentLoaded', changeGiscusTheme);
    </script>
    {{- end -}}
{{- end -}}